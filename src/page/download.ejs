<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Download Files</title>
  <link rel="icon" type="image/*" href="../public/img/documentation.png">
  <link rel="stylesheet" href="../public/css/globalStyles.css">
  <link rel="stylesheet" href="../public/css/mainPage.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
</head>

<body>
  <a style="display: none;" href="../public/img/downloads/<%=name%>" download="../public/img/downloads/<%=name%>"
    id="downloadA"></a>
  <a style="display: none;" href="/delete/<%=name%>" id="deleteFile"></a>

  <div id="background"></div>

  <h1>Download the sent file</h1>
  <div class="container-box">
    <div class="icon fa-solid fa-folder"></div>
    <p id="fileName">file name: <%= name %>
    </p>
    <p id="fileSize">file size: <%= fileSizeInMB %>MB</p>
  </div>


  <div class="containerBtns">
    <button id="downloadBtn">Download file</button>
  </div>

  <script>
    const downloadBtn = document.getElementById('downloadBtn');
    const fileName = document.getElementById('fileName');
    const fileSize = document.getElementById('fileSize');
    const downloadA = document.getElementById('downloadA');

    downloadBtn.addEventListener('click', () => {
      downloadA.click();
    })

    localStorage.setItem("searchLast", location.pathname)


  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
  <script>
    VANTA.NET({
      el: "#background",
      mouseControls: true,
      touchControls: true,
      gyroControls: false,
      minHeight: 10.00,
      minWidth: 10.00,
      scale: 1.00,
      scaleMobile: 1.00
    })
  </script>
  </script>

</body>

</html>